[{"content":" å‰è¨€:\næœ¬æ–‡ä¸»è¦å‚è€ƒè‡ªè±ç‰¹é›·-letereåšä¸»çš„å¸–å­ã€Hugoã€‘PJAXå®ç°æ— åˆ·æ–°åŠ è½½é¡µé¢ è§£å†³ä¸Šè¿°å¸–å­ æ²¡è§£å†³ æˆ–è€…è¯´æ˜¯ å°é—®é¢˜ è‹¥æ˜¯å‚è€ƒæœ¬æ–‡è¿˜è§£å†³ä¸äº†ï¼Œè¯·è‡ªè¡Œé˜…è¯»æºç ä¿®å¤ 1. å¼•å…¥Pjax (1) PJAXä¸»è¦åˆ†ä¸ºä¸¤ä¸ªç‰ˆæœ¬ï¼Œå¸¦ JQuery å’Œä¸å¸¦JQuery çš„ï¼Œæœ¬ç«™ç”¨çš„æ˜¯ä¸å¸¦JQuery çš„\ndefunkt/jquery-pjaxï¼ˆä¸å¸¦ JQueryï¼‰ MoOx/pjaxï¼ˆå¸¦ JQueryï¼‰ (2) æˆ‘å°±ä¸åˆ†æé¡µé¢å†…å®¹äº†ï¼Œç›´æ¥åœ¨ layouts/partials/footer/custom.html è´´è±ç‰¹é›·-letereåšä¸»çš„ä»£ç \n1 2 3 4 5 6 7 8 9 \u0026lt;!-- ã€custom.htmlã€‘ --\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/pjax/pjax.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; var pjax = new Pjax({ selectors: [ \u0026#34;.main-container\u0026#34; //å‘Šè¯‰ PJAX åªæ›¿æ¢é¡µé¢ä¸­çš„è¿™ä¸ª DOM åŒºåŸŸ ] }) \u0026lt;/script\u0026gt; PJAX åªä¼šæ›¿æ¢ HTMLï¼Œä¸ä¼šè‡ªåŠ¨æ‰§è¡Œé¡µé¢é‡Œçš„ \u0026lt;script\u0026gt;\nå·²ç»åŸºæœ¬å¼•å…¥äº†PJAXï¼Œä¸‹é¢è§£å†³PJAXå¸¦æ¥çš„é—®é¢˜\n2. è§£å†³é—®é¢˜ 2.1 URLè·¯å¾„ä¿®å¤ é—®é¢˜æè¿° URLåé¢å¤šå‡ºä¸€ä¸ªå‚æ•°?t=xxxæ—¶é—´æˆ³ äº§ç”ŸåŸå›  PJAX ä¼šé»˜è®¤ä¼šåœ¨è¯·æ±‚ URL ååŠ ä¸€ä¸ªéšæœºå‚æ•°ï¼ˆä¾‹å¦‚ ?_pjax=xxxxæˆ–è€…?t=xxxï¼‰,æ¥é˜²æ­¢ç¼“å­˜\nä¿®å¤å¥½å¤„ å”¯ä¸€çš„ã€è§„èŒƒçš„ URLï¼ŒSEO ä¸å—å½±å“ï¼Œæœç´¢å¼•æ“èƒ½è¯†åˆ«ï¼Œä¸ä¼šé‡å¤æ”¶å½•\nè§£å†³æ€è·¯ ä½¿ç”¨pjaxå†…ç½®çš„å‚æ•°cacheBust æˆ–è€… è‡ªå†™å‡½æ•°è·å–å½“å‰è·¯å¾„è¯†åˆ«åå»é™¤ 2.1.1 å¼•å…¥cacheBust è®¾ç½® cacheBust: false è¡¨ç¤ºä¸åŠ éšæœºå‚æ•°ï¼Œè®©æµè§ˆå™¨/æœåŠ¡å™¨ç¼“å­˜ç”Ÿæ•ˆ å¥½å¤„ï¼šé¡µé¢åˆ‡æ¢æ›´å¿«ï¼ˆåˆ©ç”¨ç¼“å­˜ï¼‰ åå¤„ï¼šå¦‚æœå†…å®¹æœ‰æ›´æ–°ï¼Œå¯èƒ½çŸ­æ—¶é—´å†…çœ‹ä¸åˆ°æœ€æ–°ç‰ˆæœ¬ï¼ˆå› ä¸ºæœ‰ç¼“å­˜ï¼‰\nåœ¨layouts/partials/footer/custom.html å¼•å…¥ cacheBust: false 1 2 3 4 5 6 \u0026lt;script\u0026gt; var pjax = new Pjax({ //å…¶ä»–... cacheBust: false, }); \u0026lt;/script\u0026gt; 2.1.2 è‡ªå†™å‡½æ•°å»é™¤ ä¹Ÿæ˜¯åœ¨layouts/partials/footer/custom.htmlå¼•å…¥ä»¥ä¸‹ä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 \u0026lt;script\u0026gt; // -------- å»æ‰PJAX è„šæœ¬ç»™ URL åŠ ä¸Šçš„æ—¶é—´æˆ³ ?t=xxxx -------- function removeTParam() { if (window.location.search.includes(\u0026#34;?t=\u0026#34;)) { history.replaceState({}, \u0026#34;\u0026#34;, window.location.pathname); } } // é¦–æ¬¡åŠ è½½æ—¶ç«‹å³å»æ‰ removeTParam(); document.addEventListener(\u0026#39;pjax:send\u0026#39;, () =\u0026gt; { removeTParam(); //å…¶ä»–... }); document.addEventListener(\u0026#39;pjax:complete\u0026#39;, () =\u0026gt; { removeTParam(); //å…¶ä»–... }); \u0026lt;/script\u0026gt; 2.2 æ–‡ç« æ ·å¼ å‚è€ƒç›¸å…³å¸–å­ï¼šè±ç‰¹é›·-letere æ–‡ç« æ ·å¼ä¿®å¤\nä¸Šè¿°å¸–å­æœ‰è¯¦ç»†è¯´æ˜\nåªåšè´´ä¸Šä»£ç ï¼Œä¿®æ”¹ layouts/partials/footer/custom.html\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 \u0026lt;script\u0026gt; pjax._handleResponse = pjax.handleResponse; pjax.handleResponse = function(responseText, request, href, options) { if (request.responseText.match(\u0026#34;\u0026lt;html\u0026#34;)) { if (responseText) { // å°†æ–°é¡µé¢çš„htmlå­—ç¬¦ä¸²è§£ææˆDOMå¯¹è±¡ let newDom = new DOMParser().parseFromString(responseText, \u0026#39;text/html\u0026#39;); // è·å–æ–°é¡µé¢ä¸­bodyçš„classNameï¼Œå¹¶è®¾ç½®å›å½“å‰é¡µé¢ let bodyClass = newDom.body.className; document.body.setAttribute(\u0026#34;class\u0026#34;, bodyClass) } // æ”¾è¡Œï¼Œäº¤ç»™pjaxè‡ªå·±å¤„ç† pjax._handleResponse(responseText, request, href, options); } else { // handle non-HTML response here } } \u0026lt;/script\u0026gt; 2.3 ä¸»é¢˜åˆ‡æ¢ä¿®å¤ å‚è€ƒç›¸å…³å¸–å­ï¼šè±ç‰¹é›·-letere ä¸»é¢˜åˆ‡æ¢ä¿®å¤\nä¸Šè¿°å¸–å­æœ‰è¯¦ç»†è¯´æ˜\nåªåšè´´ä¸Šä»£ç ï¼Œä¿®æ”¹ layouts/partials/footer/custom.html\n1 2 3 4 5 6 \u0026lt;script\u0026gt; document.addEventListener(\u0026#39;pjax:complete\u0026#39;, () =\u0026gt; { // Stackè„šæœ¬åˆå§‹åŒ– window.Stack.init(); }) \u0026lt;/script\u0026gt; 2.4 æ–‡ç« æœç´¢ä¿®å¤ å‚è€ƒç›¸å…³å¸–å­ï¼šè±ç‰¹é›·-letere ä¸»é¢˜åˆ‡æ¢ä¿®å¤\nä¸Šè¿°å¸–å­æœ‰è¯¦ç»†è¯´æ˜\nåªåšè´´ä¸Šä»£ç \nï¼ˆ1ï¼‰ä¿®æ”¹ assets/ts/search.tsxä»£ç ï¼Œå°è£…æ–¹æ³•å¹¶export\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 /** * è®°å¾—æŠŠwindow.addEventListener(\u0026#39;load\u0026#39; ...è¿™éƒ¨åˆ†ä»£ç æ³¨é‡Šæ‰ * åˆå§‹åŒ–å·¥ä½œäº¤ç»™Stack.init()å¤„ç†äº†ï¼Œä¸éœ€è¦è¿™ä¸ªäº† */ function searchInit() { let search = document.querySelector(\u0026#39;.search-result\u0026#39;); if (search) { const searchForm = document.querySelector(\u0026#39;.search-form\u0026#39;) as HTMLFormElement, searchInput = searchForm.querySelector(\u0026#39;input\u0026#39;) as HTMLInputElement, searchResultList = document.querySelector(\u0026#39;.search-result--list\u0026#39;) as HTMLDivElement, searchResultTitle = document.querySelector(\u0026#39;.search-result--title\u0026#39;) as HTMLHeadingElement; new Search({ form: searchForm, input: searchInput, list: searchResultList, resultTitle: searchResultTitle, resultTitleTemplate: window.searchResultTitleTemplate }); } } export { searchInit } ï¼ˆ2ï¼‰ä¿®æ”¹ assets/ts/main.tsï¼Œå¼•å…¥æœç´¢åˆå§‹åŒ–æ–¹æ³•å¹¶è°ƒç”¨\n1 2 3 4 5 6 7 8 import { searchInit } from \u0026#34;ts/search\u0026#34;; let Stack = { init: () =\u0026gt; { //å…¶ä»–... // è°ƒç”¨searchè„šæœ¬åˆå§‹åŒ–æ–¹æ³• searchInit(); } } ï¼ˆ3ï¼‰ä»™äººæŒ‡è·¯-\u0026gt;\n2.5 æœç´¢å†…å®¹è·³è½¬ä¿®å¤ å‚è€ƒç›¸å…³å¸–å­ï¼šè±ç‰¹é›·-letere æœç´¢å†…å®¹è·³è½¬ä¿®å¤\nä¸Šè¿°å¸–å­æœ‰è¯¦ç»†è¯´æ˜\nåªåšè´´ä¸Šä»£ç  ,ä¿®æ”¹assets/ts/search.tsxï¼Œåœ¨åŠ¨æ€æ¸²æŸ“æ•°æ®æ–¹æ³•æœ«å°¾è®©pjaxé‡æ–°è§£ææ–‡æ¡£\n1 2 3 4 5 6 7 8 9 private async doSearch(keywords: string[]) { ... /* æ–¹æ³•æœ«å°¾ï¼Œè®©pjaxé‡æ–°è§£ææ–‡æ¡£æ•°æ®ï¼Œè¯†åˆ«åŠ¨æ€æ¸²æŸ“çš„æ•°æ® è™½ç„¶å½“å‰æ–‡ä»¶æ²¡æœ‰pjaxå¯¹è±¡ï¼Œä½†æœ€åé™æ€é¡µé¢ä¼šç”Ÿæˆä¸€ä¸ªæ•´ä½“çš„jsæ–‡ä»¶ pjaxå¯¹è±¡é‚£æ—¶å°±èƒ½è¯†åˆ«åˆ°ï¼Œå°±å¯æˆåŠŸè°ƒç”¨ */ pjax.refresh(document); } 2.6 KaTeXä¿®å¤ å‚è€ƒç›¸å…³å¸–å­ï¼šè±ç‰¹é›·-letere KaTeXä¿®å¤\nä¸Šè¿°å¸–å­æœ‰è¯¦ç»†è¯´æ˜\nåªåšè´´ä¸Šä»£ç \nï¼ˆ1ï¼‰ä¿®æ”¹ layouts/partials/article/components/math.html ï¼Œæ·»åŠ ä¸€ä¸ªå…ƒç´ æ ‡ç­¾ï¼Œä¾¿äºåˆ¤æ–­æ–‡æ¡£æ˜¯å¦ä½¿ç”¨äº†KaTeX\n1 \u0026lt;div class=\u0026#34;math-katex\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; ï¼ˆ2ï¼‰layouts/partials/footer/custom.htmlï¼Œå¼•å…¥ä»¥ä¸‹ä»£ç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 \u0026lt;script\u0026gt; async function renderKaTeX() { // åˆ¤æ–­å½“å‰é¡µé¢æ˜¯å¦æœ‰KateX let katex = document.querySelector(\u0026#34;.math-katex\u0026#34;); if (!katex) { return; } // ç­‰å¾…å‡½æ•°åŠ è½½æˆåŠŸåï¼Œå†æ‰§è¡Œæ¸²æŸ“æ–¹æ³• while (typeof renderMathInElement !== \u0026#39;function\u0026#39;) { await delay(500); } // KaTeXæ¸²æŸ“æ–¹æ³• renderMathInElement(document.body, { delimiters: [ { left: \u0026#34;$$\u0026#34;, right: \u0026#34;$$\u0026#34;, display: true }, { left: \u0026#34;$\u0026#34;, right: \u0026#34;$\u0026#34;, display: false }, { left: \u0026#34;\\\\(\u0026#34;, right: \u0026#34;\\\\)\u0026#34;, display: false }, { left: \u0026#34;\\\\[\u0026#34;, right: \u0026#34;\\\\]\u0026#34;, display: true } ], ignoredClasses: [\u0026#34;gist\u0026#34;] }); } /** * åŒæ­¥å»¶è¿Ÿ */ function delay(time) { return new Promise(resolve =\u0026gt; { setTimeout(resolve, time) }) } document.addEventListener(\u0026#39;pjax:complete\u0026#39;, () =\u0026gt; { renderKaTeX(); }) \u0026lt;/script\u0026gt; 2.7 twikooè¯„è®ºä¿®å¤ å¼•å…¥PJAXå¯¼è‡´twikooè¯„è®ºåŒºå‡ºç°çš„é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒæˆ‘å¦å¤–ä¸€ä¸ªå¸–å­è§£å†³\nPjaxå¯¼è‡´Twikooå‡ºç°çš„é—®é¢˜\n2.8 PhotoSwipeä¿®å¤ é—®é¢˜æè¿° è°ƒè¯•å°å‡ºç°ä¸çŸ¥é“ photoswipe æ˜¯ä»€ä¹ˆæŠ¥é”™ ç‚¹å‡»å›¾ç‰‡åæ”¾å¤§åˆ°æ•´ä¸ªé¡µé¢åå…³é—­ï¼Œæ•´ä¸ªé¡µé¢è¢«pjaxåˆ·æ–°ï¼Œå¹¶ä¸”å®šä½åˆ°ä¸Šä¸€æ¬¡æ‰“å¼€å›¾ç‰‡çš„åœ°æ–¹ äº§ç”ŸåŸå›  é€šè¿‡PJAX åˆ·æ–°é¡µé¢æˆ–è€…è¯´è¢«åˆ·æ–°çš„åŒºåŸŸåˆšå¥½è¦†ç›–æ‰photoswipeåˆå§‹åŒ–çš„JS æ²¡æœ‰é‡æ–°åˆå§‹åŒ–\nç‚¹å‡»æ”¾å¤§å›¾ç‰‡åè·¯å¾„ä¼šå˜åŒ–åœ¨æ­¤é¡µé¢çš„è·¯å¾„åŠ ä¸Š\u0026amp;gid=1\u0026amp;pid=18è¿™ç§ï¼Œé€€å‡ºæ¢å¤åŸè·¯å¾„ï¼Œè·¯å¾„æœ‰å˜åŒ–ï¼Œpjaxæ‰§è¡Œ\nè§£å†³æ€è·¯ åœ¨headæˆ–è€…footerå†æ¬¡å¯¼å…¥photoswipeçš„JS æƒ³åŠæ³•å»æ‰æ‰“å¼€å›¾ç‰‡çš„è·¯å¾„ï¼Œè·¯å¾„æ²¡å˜åŒ–PJAXå°±ä¸ä¼šå†æ‰§è¡Œ å…·ä½“æ­¥éª¤ (1)åœ¨layouts/partials/footer/custom.htmlé‡æ–°å¼•å…¥PhotoSwipeçš„JSå’ŒCSS 1 2 {{- /* å¼•å…¥ PhotoSwipe CSS/JS */ -}} {{- partial \u0026#34;helper/external\u0026#34; (dict \u0026#34;Context\u0026#34; . \u0026#34;Namespace\u0026#34; \u0026#34;PhotoSwipe\u0026#34;) -}} (2)åœ¨ä¸»é¢˜æºç ä¸­æ‰¾åˆ° assets/ts/gallery.tsï¼Œæ‰¾åˆ°ä¸‹é¢è¿™ä¸ªå‡½æ•°ï¼Œè´´ä¸Šç¦æ­¢URL HASHä»£ç  1 2 history: false, // âœ… ç¦ç”¨ URL hash focus: false, // âœ… å…³é—­åä¸è‡ªåŠ¨èšç„¦ 2.9 backtopè¿”å›é¡¶éƒ¨æŒ‰é’®ä¿®å¤ 2.10 tocä¿®å¤ ","date":"2025-08-20T10:40:00+01:00","image":"https://hugo.setcoke.com/p/pjax/pjax-cover_hu_2d43e3875b58c596.png","permalink":"https://hugo.setcoke.com/p/pjax/","title":"è§£å†³å¼•å…¥Pjaxå¸¦æ¥çš„å„ç§é—®é¢˜"},{"content":"ä¼˜åŒ–æµ…è‰²æ¨¡å¼èƒŒæ™¯ å…¶å®ï¼Œé…ç½®å®Œäº†è¿™ä¸ªstackä¸»é¢˜åï¼Œæ„Ÿè§‰æµ…è‰²èƒŒæ™¯å°±æ˜¯æ¯”è¾ƒççœ¼ å·²ç»çœ¼çäº†\né¦–å…ˆæˆ‘æƒ³ç›´æ¥æ’å…¥å›¾ç‰‡è¿›è¡Œæ›´æ”¹ï¼Œç„¶åå‘ç°å¤§éƒ¨åˆ†èƒŒæ™¯è¿™æ ·å¹¶ä¸æ˜¾å¾—å¥½çœ‹ï¼Œæ–‡å­—å¯è¯»æ€§ä¹Ÿä¼šé™ä½\nç„¶åå°±ç›´æ¥æ”¹èƒŒæ™¯é¢œè‰²å°±okäº†,é¦–å…ˆè¦è¿½éšæºç çš„æ ·å¼\næ ·å¼çš„æºç  åœ¨Stackä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹/assets/scss/æ‰¾åˆ°äº†variables.scssæ–‡ä»¶\nä»ä¸­æ‰¾åˆ°äº†éœ€è¦æ”¹çš„ä»£ç \næ ·å¼å«ä¹‰ä¸ç”¨é€” æ•´ä¸ªé¡µé¢ä¸»ä½“è‰²å½©æ§åˆ¶ å˜é‡å å«ä¹‰ ç¤ºä¾‹ç”¨é€” --body-background é¡µé¢ä¸»ä½“èƒŒæ™¯è‰² \u0026lt;body\u0026gt; èƒŒæ™¯è‰² --accent-color ä¸»å¼ºè°ƒè‰²ï¼ˆæŒ‰é’®ã€é“¾æ¥ç­‰ï¼‰ æŒ‰é’®èƒŒæ™¯è‰²ã€é‡è¦å…ƒç´  --accent-color-darker ä¸»å¼ºè°ƒè‰²çš„æ·±è‰²ç‰ˆæœ¬ é¼ æ ‡æ‚¬åœã€è¾¹æ¡† --accent-color-text å¼ºè°ƒè‰²ä¸Šçš„æ–‡å­—é¢œè‰² å¼ºè°ƒæŒ‰é’®ä¸Šçš„æ–‡å­— --body-text-color é¡µé¢æ­£æ–‡æ–‡å­—é¢œè‰² æ™®é€šæ®µè½æ–‡æœ¬ å¡ç‰‡ç»„ä»¶è‰²å½©æ§åˆ¶ å˜é‡å å«ä¹‰ ç¤ºä¾‹ç”¨é€” --card-background å¡ç‰‡é»˜è®¤èƒŒæ™¯è‰² å¡ç‰‡æ•´ä½“èƒŒæ™¯ --card-background-selected å¡ç‰‡è¢«é€‰ä¸­æˆ–æ‚¬åœæ—¶èƒŒæ™¯è‰² hover æˆ– active çŠ¶æ€ --card-text-color-main å¡ç‰‡ä¸»æ–‡å­—é¢œè‰² æ ‡é¢˜ã€æ­£æ–‡ --card-text-color-secondary æ¬¡è¦æ–‡å­—é¢œè‰² å‰¯æ ‡é¢˜ã€æè¿° --card-text-color-tertiary ç¬¬ä¸‰çº§æ–‡å­—é¢œè‰² æ³¨é‡Šã€å°æ ‡ç­¾ æ”¹åŠ¨ çŸ¥é“æ˜¯æ€ä¹ˆä¸€å›äº‹ï¼Œå°±å¯ä»¥ç€æ‰‹æ”¹åŠ¨äº†ï¼Œé¦–å…ˆéœ€è¦å›åˆ°é¡¹ç›®çš„ç›®å½•ä¸‹ï¼Œæ‰¾åˆ°/assets/scss/custom.scssæ–‡ä»¶ï¼Œæ²¡æœ‰å°±åˆ›å»ºï¼Œè¿™æ˜¯ä¾›ç”¨æˆ·è‡ªå®šä¹‰çš„ï¼Œå¹¶ä¸æ¨èç›´æ¥æ”¹ä¸»é¢˜æºç \nä¸ºä»€ä¹ˆä¸æ”¹æºç ä¹Ÿèƒ½ç›´æ¥èƒŒæ™¯é¢œè‰²ï¼Ÿ\nè¿™ä¸ªæ–‡ä»¶å¤„äºæ ·å¼æ–‡ä»¶çš„æœ«å°¾ï¼Œæœ€åæ‰å¼•å…¥è¿™ä¸ªæ–‡ä»¶\nä»è€Œè¦†ç›–åŸå…ˆçš„å±æ€§ï¼Œè¾¾åˆ°â€œè‡ªå®šä¹‰â€çš„æ•ˆæœã€‚\næŠŠè¦ä¿®æ”¹çš„ä»£ç å¤åˆ¶ä¸‹æ¥æ”¾è¿›custom.scssæ–‡ä»¶é‡Œä¿®æ”¹\nä¸‹é¢è¿™ä¸ªæ˜¯ç›®å‰æˆ‘çš„ç½‘ç«™åœ¨ç”¨çš„ å¯èƒ½ç”¨ç€ç”¨ç€å°±åˆæ”¹äº†\nè“è“å¥¶æ²¹é£\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 :root { --body-background: #F2F5FB; /* æŸ”å’Œå¥¶è“èƒŒæ™¯ */ --body-text-color: #2A3650; /* æ·±è“æ–‡å­— */ --accent-color: #789EDC; /* è“è“è‰²æŒ‰é’®/é“¾æ¥ */ --accent-color-darker: #4D6FB0; /* hover æ·±è“ */ --accent-color-text: #FFFFFF; /* ç™½è‰²æ–‡å­— */ --card-background: #FFFFFF; /* å¡ç‰‡èƒŒæ™¯ */ --card-background-selected: #DCE4F7; /* hover æµ…è“ */ --card-text-color-main: #2A3650; /* ä¸»æ–‡å­— */ --card-text-color-secondary: #5A6F8C; /* æ¬¡æ–‡å­— */ --card-text-color-tertiary: #889AB0; /* ç¬¬ä¸‰çº§æ–‡å­— */ } ä¹Ÿå¯ä»¥æŠŠå®ƒä¸¢ç»™AIï¼Œè®©å®ƒç»™ä¸ªé…è‰²æ–¹æ¡ˆï¼Œæ…¢æ…¢è°ƒè‡ªå·±å–œæ¬¢çš„\nä¿®æ”¹ç½‘ç«™å¸ƒå±€ é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“ç½‘ç«™çš„å¸ƒå±€æ˜¯æ€æ ·çš„\nF12æ‰“å¼€æ§åˆ¶å°å¾ˆå®¹æ˜“å°±çŸ¥é“containeræ˜¯é¡µé¢å†…å®¹çš„çˆ¶çº§å®¹å™¨\n1.å·¦ä¾§æ ï¼šå®¹å™¨ç±» .left-sidebar\n2.å³ä¾§æ ï¼šå®¹å™¨ç±» .right-sidebar\n3.ä¸­é—´å†…å®¹åŒºï¼šå®¹å™¨ç±» .contentï¼Œå®½åº¦ç”±å·¦å³ä¸¤ä¾§æ çš„å®½åº¦æ§åˆ¶\nğŸ’¡å…³é”®ç‚¹ æˆ‘ä»¬åªè¦è°ƒèŠ‚ä¸¤ä¾§ä¾§æ çš„å¤§å°ï¼Œå°±å¯ä»¥ç›´æ¥æ§åˆ¶ä¸­é—´å†…å®¹åŒºåŸŸçš„å®½åº¦ï¼Œæ— éœ€å•ç‹¬ä¿®æ”¹ä¸­é—´åŒºåŸŸ\nå·¦å³ä¾§æ å®¹å™¨åˆ†åˆ«æ˜¯ left-sidebar å’Œ right-sidebar\néœ€è¦ä¸ºä¸åŒåœºæ™¯è®¾ç½®ä¸åŒæ˜¾ç¤ºæ•ˆæœï¼Œé€šå¸¸é€šè¿‡å“åº”å¼è§„åˆ™ @include respond(md/lg/xl) æ¥å®ç°ï¼š\nä¿®æ”¹ é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç€æ‰‹ä¿®æ”¹äº†ï¼Œä¸ç”¨æƒ³ç€å»æ‰¾æºç äº†ï¼Œç›´æ¥åœ¨ä¸»ç›®å½•assets/scss/custom.scssè¿™ä¸ªæ–‡ä»¶ç›´æ¥æ·»åŠ ï¼Œè¦†ç›–æ‰ä¹‹å‰çš„å¸ƒå±€ï¼Œæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶å°±åˆ›å»º\nç›®å‰æˆ‘çš„ç½‘ç«™åœ¨ç”¨ä¸‹é¢è¿™ä¸ª,å–œæ¬¢çš„è¯å°±ç›´æ¥å¤åˆ¶\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 /* åŸºç¡€å®¹å™¨ï¼šæ°´å¹³å±…ä¸­ */ .container { margin-left: auto; margin-right: auto; \u0026amp;.extended { /* range: 768-1024 */ @include respond(md) { max-width: 1024px; --left-sidebar-max-width: 20%; --right-sidebar-max-width: 30%; } /* range: 1024-1280 */ @include respond(lg) { max-width: 1280px; --left-sidebar-max-width: 14%; --right-sidebar-max-width: 24%; } } } ä¹Ÿå¯ä»¥æ…¢æ…¢è°ƒè‡ªå·±å–œæ¬¢çš„\n","date":"2025-08-16T10:07:13+01:00","image":"https://hugo.setcoke.com/p/hugo-stack-optimization/Hugo-Stack_hu_87513608843c866d.png","permalink":"https://hugo.setcoke.com/p/hugo-stack-optimization/","title":"Hugo-Stackä¸»é¢˜ç¾åŒ– "},{"content":" ä¸ºä»€ä¹ˆä½¿ç”¨twikoo å…è´¹ã€éƒ¨ç½²ç®€å• æ— åŸŸåé™åˆ¶ twikooæŸ¥çœ‹æ›´å¤š 1. å¼•å…¥Twikoo 1.1 éƒ¨ç½² Twikoo åˆ†ä¸ºäº‘å‡½æ•°å’Œå‰ç«¯ä¸¤éƒ¨åˆ†ï¼Œéœ€è¦åŒæ—¶éƒ¨ç½²\näº‘å‡½æ•°éƒ¨ç½² twikooæœ‰å¤šç§äº‘å‡½æ•°éƒ¨ç½²æ–¹å¼ï¼Œå…·ä½“çš„å¯ä»¥åˆ°å®˜ç½‘æŸ¥çœ‹æ•™ç¨‹é€‰æ‹©twikooäº‘å‡½æ•°éƒ¨ç½² å‰ç«¯éƒ¨ç½² twikooæœ‰å¤šç§ç½‘ç«™æ¡†æ¶çš„ä¸åŒä¸»é¢˜çš„é…ç½®æ–¹å¼twikooå‰ç«¯éƒ¨ç½² ä¹Ÿå¯è‡ªè¡Œåœ¨å‰ç«¯ä»£ç ä¸­é€šè¿‡ CDN å¼•å…¥ æ³¨æ„äº‹é¡¹ å¦‚æœæ˜¯ç”¨MongoDB Atlasè¿™ä¸ªå½“æ•°æ®åº“çš„è¯ï¼Œè¿æ¥å­—ç¬¦ä¸²è®°å¾—æ”¹é‡Œé¢çš„\u0026lt;username\u0026gt;:\u0026lt;password\u0026gt;ä¸ºåˆ›å»ºçš„ç”¨æˆ·å:å¯†ç \nå½“æ—¶æˆ‘å°±ç›´æ¥å¤åˆ¶å»éƒ¨ç½²äº†ï¼Œå‘ç°æ²¡æ”¹åå»åå°æœåŠ¡å™¨æ”¹äº†æ²¡æ•ˆæœï¼Œæœ€ååˆ äº†é‡æ–°éƒ¨ç½²æ‰è¡Œ\n1.2 åœ¨Stackä¸­ Stackå°±å†…ç½®æœ‰twikooï¼Œåœ¨hugo.yamlæ·»åŠ ä¸Šäº‘å‡½æ•°éƒ¨ç½²å¾—åˆ°çš„ envId\nTwikooå°±å¼•å…¥äº†\n2. Pjaxå¯¼è‡´Twikooå‡ºç°çš„é—®é¢˜ å¦‚æœå¼•å…¥PJAXåæœ‰å‡ºç°å¾ˆå¤šçš„é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ªè§£å†³å¼•å…¥Pjaxå¸¦æ¥çš„å„ç§é—®é¢˜\n2.1 é—®é¢˜æè¿° (1) ç¬¬ä¸€æ¬¡ç‚¹å‡»æ–‡ç« è¿›å…¥æ—¶ï¼Œè¯„è®ºåŒºä¸æ˜¾ç¤º\n(2) è¯„è®ºæ˜¾ç¤ºé”™ä¹±ï¼ˆæŸç¯‡æ–‡ç« çš„è¯„è®ºå†…å®¹è·‘åˆ°å¦ä¸€ç¯‡æ–‡ç« ä¸‹ï¼‰\n2.2 äº§ç”ŸåŸå›  (1) é€šè¿‡ PJAX è·³è½¬ï¼Œè¯„è®ºåŒºå®¹å™¨æœ‰ï¼Œä½† JS å¹¶æ²¡æœ‰é‡æ–°æ‰§è¡Œåˆå§‹åŒ–ï¼Œæ‰€ä»¥è¯„è®ºåŒºåŸŸæ²¡å‡ºç°ã€‚\nçœ‹è¿™ä¸ªæŠ¥é”™ä¿¡æ¯åº”è¯¥æ˜¯æµè§ˆå™¨åœ¨æ‰§è¡Œä½ çš„è„šæœ¬æ—¶ï¼ŒTwikoo çš„ JS æ ¹æœ¬è¿˜æ²¡åŠ è½½\n(2) Twikoo æ˜¯æ ¹æ® pathåŒºåˆ†ä¸åŒé¡µé¢çš„è¯„è®ºçš„ã€‚\nPJAX åˆ‡æ¢æ—¶ï¼Œå¦‚æœæ²¡æœ‰é‡æ–°æ­£ç¡®ä¼ é€’ pathï¼ŒTwikoo å¯èƒ½ä»ç„¶ç”¨ä¸Šä¸€ä¸ªé¡µé¢çš„ path æˆ–ç¼“å­˜çš„è¯„è®ºæ•°æ®ï¼Œå¯¼è‡´è¯„è®ºé”™ä½\n2.3 è§£å†³æ€è·¯ å¼•è¿›Twikooåéœ€è¦åœ¨ PJAX é¡µé¢åˆ‡æ¢å®Œæˆå æ‰‹åŠ¨é‡æ–°åˆå§‹åŒ– Twikoo\n2.4 å…·ä½“æ­¥éª¤ 2.4.1 åˆæ­¥æ›´æ”¹ åœ¨layouts/partials/custom.htmlå¼•å…¥ä»¥ä¸‹ä»£ç :\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 \u0026lt;script src=\u0026#34;//cdn.jsdelivr.net/npm/twikoo@1.6.39/dist/twikoo.all.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; function initTwikoo() { const el = document.getElementById(\u0026#39;tcomment\u0026#39;); if (!el) return; // æ¸…ç©ºæ—§å®ä¾‹ï¼Œé˜²æ­¢é‡å¤æ¸²æŸ“ el.innerHTML = \u0026#39;\u0026#39;; // åˆå§‹åŒ– Twikoo twikoo.init({ envId: \u0026#39;{{ .Site.Params.comments.twikoo.envId }}\u0026#39;, el: \u0026#39;#tcomment\u0026#39;, path: window.location.pathname, }); } // é¦–æ¬¡é¡µé¢åŠ è½½ document.addEventListener(\u0026#34;DOMContentLoaded\u0026#34;, () =\u0026gt; { //å…¶ä»–... initTwikoo(); }); document.addEventListener(\u0026#39;pjax:complete\u0026#39;, () =\u0026gt; { //å…¶ä»–... initTwikoo(); }); \u0026lt;/script\u0026gt; å¼•å…¥ä¸Šè¿°ä»£ç å‘ç°æ²¡æ•´å¥½è¿™ä¸ªè¯„è®ºè·‘åçš„é—®é¢˜,å»å¯»æ‰¾ stack ä¸»é¢˜é‡Œé¢çš„ twikoo çš„æºç \n2.4.2 æœ€åæ›´æ”¹ åœ¨ä¸»é¢˜ç›®å½•ä¸‹/layouts/partials/comments/provider/twikoo.html\næºç ä¼šæŠŠ path å›ºå®šæˆé…ç½®é‡Œçš„å€¼,ä½† PJAX åˆ‡æ¢æ–‡ç« æ—¶è¿™ä¸ªå€¼ä¸ä¼šæ›´æ–°ï¼Œåˆä¼šå½±å“ä¸Šé¢è·¯å¾„çš„æ›´æ–°ï¼Œæ‰€ä»¥æŠŠæºç ç»™æ³¨é‡Šæ‰\nè¿™æ · twikoo åœ¨å¼•ç”¨ PJAX åå‡ºç°çš„é—®é¢˜å°±è§£å†³äº†\n","date":"2025-08-16T03:51:56+01:00","image":"https://hugo.setcoke.com/p/pjax-twikoo/pjax-twikoo_hu_2fdd11bd273065d9.png","permalink":"https://hugo.setcoke.com/p/pjax-twikoo/","title":"Pjax+Twikooè¯„è®ºåŒºå¼•å…¥å¹¶ä¿®å¤"},{"content":" å¼•è¨€\næœ¬è´´æœ€åˆçš„æ˜¯Musictagå·¥å…·ï¼Œç›®å‰å‡çº§ä¸ºå…³äºéŸ³ä¹çš„å„ç§ç½‘ç«™æˆ–è€…å·¥å…·ï¼ŒæŒç»­æ›´æ–° ä»…åšåˆ†äº«ç”¨ï¼Œå¦‚æœ‰ä¾µæƒè¯·è”ç³»æœ¬ç«™ä½œè€… 1. Web | ç½‘ç«™ 1.1 freemediaheckyeah ç½‘ç«™å£°ç§°äº’è”ç½‘ä¸Šæœ€å¤§çš„å…è´¹ç‰©å“é›†åˆï¼\nä¸æ­¢æœ‰éŸ³ä¹ç›¸å…³çš„èµ„æºï¼Œå„ç§å…è´¹çš„èµ„æºéƒ½æœ‰æ¨è\n1.2 ç½‘æ˜“äº‘æ— æŸè§£æ ç½‘æ˜“äº‘ä¸Šçš„æ­Œæ¨èè¿™ä¸ªä¸‹è½½,èƒ½ä¸‹è½½ç½‘æ˜“äº‘éŸ³ä¹ä¸Šæ‰€æœ‰çš„éŸ³è´¨\nè¯¥ç½‘ç«™èƒ½è§£æç›®å‰åœ¨ç½‘æ˜“äº‘ä¸Šèƒ½æ’­æ”¾çš„æ­Œï¼Œæ”¯æŒæ­Œåè§£æã€ç½‘æ˜“äº‘é“¾æ¥è§£æå’Œç½‘æ˜“äº‘æ­Œå•è§£æ\næ­Œå•è§£ææ”¯æŒæ­Œå•å†…å…¨éƒ¨æ­Œä¸‹è½½ï¼Œå®æµ‹300å¤šé¦–æ­Œçš„æ­Œå•åªèƒ½ä¸‹è½½å‡ åé¦–ä¸‹æ¥ï¼Œå¹¶ä¸å®Œå–„è¿™åŠŸèƒ½ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æˆ‘ä¸‹è½½çš„æ˜¯æœ€é«˜éŸ³è´¨ æ”¯æŒå•é¦–æ­Œæ‰“åŒ…ä¸‹è½½ï¼Œå†…å«æ­Œæ›²ã€æ­Œæ›²å°é¢å’Œæ­Œè¯ï¼Œä¸æ‰“åŒ…ä¸‹è½½ï¼Œå¹¶ä¸æ”¯æŒé™¤æ­Œæ›²å¤–çš„æ–‡ä»¶ä¸‹è½½ 1.3 å…¨æ ˆå·¥å…·(ç½‘æ˜“äº‘VIPéŸ³ä¹è§£æ) ç½‘æ˜“äº‘ä¸Šçš„æ­Œä¸‹è½½å¤‡é€‰\nä»…æ”¯æŒå•é¦–æ­Œæ›²åˆ†äº«é“¾æ¥è§£æï¼Œä¸æ”¯æŒæ­Œåè§£æå’Œæ­Œå•è§£æï¼Œå¹¶ä¸”å®æµ‹å•é¦–èƒ½åœ¨ç½‘æ˜“äº‘ä¸Šå¬æœ€é«˜éŸ³è´¨çš„ï¼Œåªèƒ½è§£æåˆ°é«˜æ¸…ç¯ç»•å£° æ”¯æŒå•ä¸ªå°é¢é“¾æ¥ä¸‹è½½ï¼Œæ— æ­Œæ›²æ­Œè¯ä¸‹è½½ ç½‘ç«™å†…ç½®å¹¿å‘Šï¼Œå¹¶ä¸”è§£æå‡ é¦–æ­Œåéœ€è¦å»å¾®ä¿¡å…¬ä¼—å·çœ‹å¹¿å‘Šè§£é” 1.4 æ­Œæ›²å® 1.5 éŸ³ä¹é­”çŸ³ 2. tool | å·¥å…· 2.1 MusicTag ä¸€æ¬¾éŸ³ä¹åˆ®å‰Šå·¥å…·ï¼Œæ ¹æ®å·²æœ‰éŸ³ä¹è¿›è¡ŒæŸ¥æ‰¾è¯¥éŸ³ä¹çš„å„ç§ä¿¡æ¯\næ”¯æŒä¸»æµéŸ³ä¹æ ¼å¼\nä¸‹è½½åœ°å€\nå¤¸å…‹ç½‘ç›˜\nç™¾åº¦ç½‘ç›˜ æå–ç ï¼šx081\nè“å¥äº‘ å‹ç¼©åŒ…å¯†ç ï¼šwww.coolapk.com ","date":"2025-08-13T00:00:00Z","image":"https://hugo.setcoke.com/p/music/music_hu_6b95d2fa7c511eaf.png","permalink":"https://hugo.setcoke.com/p/music/","title":"Music Web tool | éŸ³ä¹ ç½‘ç«™ å·¥å…·"}]